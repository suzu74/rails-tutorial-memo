# Rails tutorial memo

## 20200625

### 第1章 ゼロからデプロイまで

* Railsだけでしか使えない基礎的な知識に基づくのではなく、ウェブ開発の基礎を学ぶことを重点とした高度な技術について学ぶ。
* 技術的に困難な課題を解決するために必要なのはスキルは2つのスキル（熟練）が必要
    * ハードスキル (操作方法などの定型化しやすいスキル) 
    * ソフトスキル (デバッグなどの定型化しにくいスキル)
* 技術は知っていればよいというものではなく、エラーメッセージを検索して調べたりなど見極める力も必要。
    * デバッグとかをつい怠ってしまうと感じている。`Rails.logger`や`◯◯.inspect`をもっと使うことも意識する。 
* 改めてRails tutorialで学べることが多くて驚いている。
    * MVCやREST、ジェネレータ、マイグレーション、ルーティング、ERBなどなど、今まではなんとなくで理解していたものが多いので、言葉で説明できるようにしたい。

#### 1.1 はじめに

* Rubyが柔軟性があるからこそ、Railsが簡潔で使いやすくなっている。
    * DSL (ドメイン固有言語) ???　⇨　https://www.jetbrains.com/ja-jp/mps/concepts/domain-specific-languages/
* Railsは最新のWebテクノロジーやフレームワーク設計に素早く適応している。だからこそ進化が早い。
* 多様なコミュニティがあるから、エラーに遭遇すると検索すれば関連する情報がすぐ見つかる。


##### 1.1.1 前提知識

* Rails チュートリアルでもProgateが紹介されているとは驚いた。
* 演習
    * Ruby gemはどのWebサイトにありますか？
        * https://rubygems.org/
    * 現時点でのRailsの最新バージョンはいくつですか？
        * Ruby on Rails 6.0.3
    * Ruby on Railsはこれまでに何回ダウンロードされたでしょうか？
        * すぐにはみつからず、、、。

##### 1.1.2 この本における取り決め

* エラーメッセージをGoogleで検索することは、実際の現場でも使われている基本的なテクニック
    * 何かわからなければ随時調べる。

#### 1.2 さっそく動かす

* ここからRubyなどのインストールを開始。久しぶりに開発環境を整える。
* 一番最初にチュートリアルをやったときはAWS Cloud9(クラウドIDE)だったのがなんだか懐かしい、、、、
    * 無事rails newができた、、、

## 20200626

##### 1.2.1 開発環境

* Cloud9は使わないので割愛

##### 1.2.1 Railsをインストールする

* インストール済み

#### 1.3 最初のアプリケーション

* Webフレームワークではディレクトリとファイルの構造は標準化されている。そのメリットがファイル/ディレクトリ構造が標準化されていることで他の開発者の書いたRailsのコードが読みやすくなること。
* rails new実行！

##### 1.3.1 Bundler

* gem 'uglifier', '>= 1.3.0' だったら、1.3.0以上なら最新をインストール。
* gem 'coffee-rails', '~> 4.0.0'だったら、4.0.0より大きく4.1より小さい場合にインストール。

##### 1.3.2 rails server

* 演習
    * Rubyのバージョンはいくつになっていますか?
        *  2.7.1
    * Railsのバージョンはいくつになっていますか?
        * 5.2.4.3

##### 1.3.3 Model-View-Controller (MVC)

* RailsはMVC (model-view-controller) というアーキテクチャパターンを採用している。MVCでは、アプリケーション内のデータ（ユーザー情報など）と、データを表示するコードを分離している。
* Model
    * アプリケーションが扱うデータ
* View
    * ユーザーへの出力処理
* Controller
    * 必要な処理をModelやViewに伝える
* 上記3つがそれぞれ独立して互いに連携しているのが特徴。

#### 1.3.4 Hello, world!

* 演習まで完了

#### 1.4 Gitによるバージョン管理

* 仕事をする上では欠かせないGitについてスタート

###### 1.4.1 インストールとセットアップ

* Gitにおけるコミットは、あくまでローカルマシン上での操作であること。
	* git pushコマンドで変更をリモートリポジトリにプッシュすることでリモートへ反映。

###### 1.4.2 Gitのメリット

* 読了

###### 1.4.3 Bitbucket

* GitHubで行うので軽く目を通すのみ。
* GitHubにてpush完了

###### 1.4.4 ブランチ、編集、コミット、マージ

* チュートリアルでは出てきたgit commandは業務で毎日使うコマンドが多く困ることはなかった。
    * しかし git branch -D　と　git branch -dなどの違いがわからない。(ここら辺は都度調べれば良さそう)
        * 個人的に一番いまだにわからないのが、fast-forwardとnon-fast-forward。調べたりしているがいまいち理解ができず苦手。
        * cherry-pickやrevertも好きではない、、、。

####　1.5 デプロイする

* Phusion Passenger???
* 一通りのデプロイ環境を提供するEngine YardやRails Machine???
* クラウドサービスを提供するEngine Yard CloudやHeroku??
    * Heroku以外馴染みのない言葉が多かった。

## 20200627

##### 1.5.1 Herokuのセットアップ

* herokuのコマンドが約一年ぶりで忘れていた。（現状頻繁に使うことはないので必要に応じて調べれば良さそう）
    * heroku create (Herokuサーバーにサンプルアプリケーションの実行場所を作成)
    * heroku keys:add(SSHキー)
     * SSHとかについて理解が浅い。何度か調べてはいるが口で説明ができない。

##### 1.5.2 Herokuにデプロイする (1)

* git push heroku master (Gitを使ってHerokuにリポジトリをプッシュ)
    * fetch とか mergeの理解が浅い。
        * 上記2つを同時にやるのがpullなのは理解している。。。。

##### 1.5.3 Herokuにデプロイする (2)

* 無事にデプロイ完了。
    * https://polar-falls-51413.herokuapp.com/

##### 1.5.4 Herokuコマンド

* heroku rename 新しい名前
* 演習
    * Herokuアプリのログを表示するコマンドは？
        * heroku logs
    * 

#### 1.6 最後に

* この賞で学んだこと.
    * 開発環境のセットアップやバージョン管理、本番環境へのデプロイの方法。

##### 1.6.1 本章のまとめ

 * この章で理解が不十分だと感じたこと。
    * MVCへの理解。概要はわかるが言葉では説明できない。
    * RESTはMVCよりも理解が浅い。
    * gitコマンドの理解度。
        * チュートリアルに出るコマンドは問題なく使える。
            * しかしcherry pick や revert fast-forwardやnon-fast-forward、fetch mergeの各コマンドの理解が浅い。
    * SSHあたりのセキュリティ面についての理解も自信ない。
        * SSHについては「これから学ぶmacOSターミナル」で概要は読んではいる。
            * 暗号化された通信が可能で安全なリモートログインを可能にするものであると認識している。
    * Bundlerについても詳しく知らずに使っている。
        *　とりあえずbundle installやbundle updateを使っていた。 